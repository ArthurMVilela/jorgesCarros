<html>
    <head>
        <meta charset="utf-8">
        <title>Jorge's Carros</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    </head>
    <body>
        
        <%- include("../menu") %>

        <div class="container">
            <div class="row pt-3">
                <h1>Cadastro carros</h1>
            </div>

            <div class="row pt-3">
                <div class="col card pt-3">
                    <form name="frm">
                        <h3>Carro selecionado: </h3>
                        <div class="row">
                            <div class="col-4">
                                <label for="codigo">Código</label>
                                <div class="input-group">
                                    <input type="text" class="form-control" name="codigo">
                                    <div class="input-group-append">
                                        <button class="btn btn-outline-secondary" type="button">Buscar</button>
                                    </div>
                                </div>
                            </div>
                            <div class="col-4">
                                <label for="placa">Placa</label>
                                <input type="text" class="form-control" name="placa">
                            </div>
                            <div class="col-4">
                                <label for="renavam">Renavam</label>
                                <input type="text" class="form-control" name="renavam">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-4">
                                <label for="categoria">Categoria</label>
                                <select class="custom-select" name="categoria">
                                    <option value="0">Utilitário</option>
                                    <option value="1">Sedan</option>
                                    <option value="2">4 x 4</option>
                                </select>
                            </div>
                            <div class="col-4">
                                <label for="status">Status</label> 
                                <select class="custom-select" name="status">
                                    <option value="0">Disponivel</option>
                                    <option value="1">Em manutenção</option>
                                    <option value="2">Em servico</option>
                                    <option value="3">Reservado</option>
                                    <option value="4">Removido da garagem</option>
                                    <option value="5">Alugado</option>
                                </select>
                            </div>
                            <div class="col-4">
                                <label for="cor">Cor</label>
                                <select class="custom-select" name="cor">
                                    <option value="0">Amarelo</option>
                                    <option value="1">Azul</option>
                                    <option value="2">Bege</option>
                                    <option value="3">Branco</option>
                                    <option value="4">Cinza</option>
                                    <option value="5">Laranja</option>
                                    <option value="6">Marrom</option>
                                    <option value="7">Preto</option>
                                    <option value="8">Verde</option>
                                    <option value="9">Vermelho</option>
                                </select>
                            </div>

                        </div>                        
                        <div class="row">
                            <div class="col-6">
                                <label for="modelo">Modelo</label>
                                <input type="text" class="form-control" name="modelo">
                            </div>
                            <div class="col-3">
                                <label for="marca">Marca</label> 
                                <input type="text" class="form-control" name="marca">
                            </div>
                            <div class="col-3">
                                <label for="ano">Ano</label>
                                <input type="text" class="form-control" name="ano">
                            </div>

                        </div>
                        <div class="row">
                            <div class="col-4">
                                <label for="motor">Motor</label>
                                <select class="custom-select" name="motor">
                                    <option value="0">Motor 1.0</option>
                                    <option value="1">Motor 1.4</option>
                                    <option value="2">Motor 1.6</option>
                                    <option value="3">Motor 1.8</option>
                                    <option value="4">Motor 2.0</option>
                                </select>
                            </div>
                            <div class="col-4">
                                <label for="tanque">Tanque (volume)</label> 
                                <input type="text" class="form-control" name="tanque">
                            </div>
                            <div class="col-4">
                                <label for="km_litro">Km/Litro</label>
                                <input type="text" class="form-control" name="km_litro">
                            </div>

                        </div>

                        <br>

                        <h4>Extras</h4>

                        <table class="table">
                            <div class="custom-control custom-switch">
                                <input type="checkbox" class="custom-control-input" id="ar_condicionado" name="ar_condicionado" value="1">
                                <label class="custom-control-label" for="ar_condicionado">Ar condicionado</label>
                            </div>
                            <div class="custom-control custom-switch">
                                <input type="checkbox" class="custom-control-input" id="radio_bluetooth" name="radio_bluetooth" value="1">
                                <label class="custom-control-label" for="radio_bluetooth">Rádio Bluetooth</label>
                            </div>
                            <div class="custom-control custom-switch">
                                <input type="checkbox" class="custom-control-input" id="gps" name="gps" value="1">
                                <label class="custom-control-label" for="gps">GPS</label>
                            </div>
                            <div class="custom-control custom-switch">
                                <input type="checkbox" class="custom-control-input" id="direcao_automatica" name="direcao_automatica" value="1">
                                <label class="custom-control-label" for="direcao_automatica">Direção Automática</label>
                            </div>
                        </table>

                        <div class="row">
                            <div class="col d-flex justify-content-end">

                                <button class="btn btn-primary mx-1" type="submit" value="buscar" onclick="buscar()">Buscar</button>
                                <button class="btn btn-primary mx-1" type="submit" value="adicionar" onclick="adicionar()">Adicionar</button>
                                <button class="btn btn-primary mx-1" type="submit" value="excluir" onclick="excluir()">Excluir</button>
                                <button class="btn btn-primary mx-1" type="submit" value="alterar" onclick="alterar()">Alterar</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            <div class="row p-3">
                <h3>Carros</h3>
                <table class="table">
                    <thead>
                        <tr>
                            <th scope="col">Código</th>
                            <th scope="col">Modelo</th>
                            <th scope="col">Ano</th>
                            <th scope="col">Diária</th>
                            <th scope="col">Status</th>
                        </tr>
                    </thead>
                    
                    <tbody>
                        <% listaCarros.forEach(function (carro) { %>
                            <tr>
                                <th scope="row"><%= carro.codigo %></th>
                                <td><%= carro.modelo %></td>
                                <td><%= carro.ano %></td>
                                <td>R$130,00</td>
                                <td><%= carro.status %></td>
                            </tr>
                        <% }) %>
                        
                    </tbody>
                </table>
            </div>
            
        </div>

        <script type="text/javascript">
            function buscar(){
                console.log(document.frm)
                document.frm.setAttribute("method","GET")
                document.frm.setAttribute("action","/cadastrar-carro")
            }
            function adicionar(){
                console.log(document.frm)
                document.frm.setAttribute("method","POST")
                document.frm.setAttribute("action","/cadastrar-carro")
            }
            function excluir(){
                console.log(document.frm)
                document.frm.setAttribute("method","DELETE")
                document.frm.setAttribute("action","/excluir-carro")
            }
            function alterar(){
                console.log(document.frm)
                document.frm.setAttribute("method","PATCH")
                document.frm.setAttribute("action","/atualizar-carro")
            }
        </script>
    </body>
</html>